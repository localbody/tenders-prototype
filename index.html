<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tenders</title>
    <link rel="stylesheet" href="./css/main.css" />
  </head>

  <body>
    <div class="popup">
      <div class="body">
        <button class="close"></button>
        <div class="content"></div>
      </div>
    </div>

    <div class="main">
      <div class="header">
        <span class="title">
          <button
            class="button--info button--flat text--white popup-show"
            data-popup="1"
          >
            Задача: "Изучение Заявки (запрос для рассылки)"
          </button>
        </span>
        <div class="profile profile--warning">
          <button class="button--flat dropdown-toggle">Иванов Иван</button>
          <div class="profile__content">
            <div>
              <ul>
                <li>роль: менеджер</li>
                <li>активные задачи: <a href="">10</a></li>
                <li>неотложные задачи: <a href="">1</a></li>
                <li><hr /></li>
                <li><a href="">Сменить пароль</a></li>
                <li><a href="">Завершить работу</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <div class="body">
        <div class="sidebar">
          <button class="toggle"></button>
          <div class="sidebar__content">
            <ul>
              <li>Название задачи 1</li>
              <li>Название задачи 2</li>
              <li class="active">Изучение Заявки (запрос для рассылки)</li>
              <li>Название задачи 4</li>
              <li>Название задачи 5</li>
              <li>Название задачи 6</li>
              <li>Название задачи 7</li>
              <li>Название задачи 8</li>
              <li>Название задачи 9</li>
              <li>Название задачи 10</li>
              <li>Название задачи 11</li>
            </ul>
          </div>
        </div>
        <div class="content">
          <!-- -->

          <div class="block shadow">
            <h2>
              Найдите <b>3</b> синонима слова "<b>трактор</b>" и вставьте их в
              поля ниже.
            </h2>
            <div class="result block shadow">
              <a
                class="result__link"
                href="https://sinonim.org/s/трактор"
                onclick="openInNamedWindow(event, this.href)"
                >синонимы на <b>sinonim.org</b>
              </a>

              <div class="result__fields">
                <input class="result__text" type="text" value="тягач" />
                <input class="result__text" type="text" value="бульдозер" />
                <input class="result__text" type="text" value="железный конь" />
              </div>
            </div>

            <div class="result block shadow">
              <a
                class="result__link"
                href="https://text.ru/synonym/трактор"
                onclick="openInNamedWindow(event, this.href)"
                >синонимы на <b>text.ru</b></a
              >
              <div class="result__fields">
                <input
                  class="result__text"
                  type="text"
                  value="Стальной пахарь"
                />
                <input
                  class="result__text"
                  type="text"
                  value="Степной богатырь"
                />
                <input class="result__text" type="text" />
              </div>
            </div>

            <div class="result block shadow">
              <a
                class="result__link"
                href="https://kartaslov.ru/синонимы-к-слову/трактор"
                onclick="openInNamedWindow(event, this.href)"
                >синонимы на <b>kartaslov.ru</b></a
              >
              <div class="result__fields">
                <input class="result__text" type="text" value="локомотив" />
                <input class="result__text" type="text" />
                <input class="result__text" type="text" />
              </div>
            </div>
          </div>

          <button class="next-task">Далее</button>
        </div>
      </div>

      <div class="footer">
        <div class="durations">
          <div>
            <span>Осталось времени</span>
            <span id="countdown" class="step-duration"
              >11 дней 08 часов 15 минут</span
            >
          </div>
          <div>
            <span>Окончание задачи</span>
            <span id="datetime-final" class="step-duration"
              >01.12.2025 23:59</span
            >
          </div>
          <div>
            <span>Мяч на той стороне до</span>
            <span id="on-that-side" class="step-duration text--red"
              >30.10.2025 23:59</span
            >
          </div>
        </div>
      </div>
    </div>

    <div class="messages messages--hidden">
      <h2>Сообщение</h2>
      <p>Содержимое сообщения 1</p>
      <p>Содержимое сообщения 2</p>
      <p>Содержимое сообщения 3</p>
      <button class="close"></button>
    </div>

    <script type="module" src="./js/main.js"></script>
    <script>
      let namedWindow = null

      function openInNamedWindow(event, url) {
        event.preventDefault()

        const windowName = 'myChrome' // уникальное имя окна
        const windowFeatures = `left=${screen.availWidth / 2},top=0,width=${
          screen.availWidth / 2
        },height=${screen.availHeight},resizable=yes,scrollbars=yes,menubar=yes`

        if (!namedWindow || namedWindow.closed) {
          // Открываем новое окно при первом клике
          namedWindow = window.open(url, windowName, windowFeatures)
        } else {
          // Открываем ссылку в новой вкладке уже существующего окна
          namedWindow.focus()
          namedWindow.location.href = url
        }
      }
    </script>
  </body>
</html>
